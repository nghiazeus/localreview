<!-- Store Card -->
<div th:each="store : ${topRatedStores}" class="relative h-full w-full sm:w-3/4 md:w-2/4 xl:w-1/4 flex-shrink-0 md:p-2">
    <a th:href="@{/store/detail/{id}(id=${store.storeId})}"
        class="block h-full bg-white md:rounded-lg md:shadow-md duration-300">
        <div
            class="top-0 text-black bg-gradient-to-r from-blue-50 via-purple-200 to-violet-200 text-center md:rounded-t-lg shadow-sm">
            <span class="text-sm font-semibold">Cửa hàng được đánh giá tốt nhất!</span>
        </div>
        <div class="flex flex-col h-full p-4">
            <!-- Header -->
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2 w-60 truncate">
                    <i class="bi bi-shop font-semibold px-2 py-1 text-xl text-purple-500"></i>
                    <span th:text="${store.storeName}"
                        class="font-semibold text-lg text-gray-900 truncate max-w-[calc(100%-2.5rem)]">Store
                        Name</span>
                </div>
                <div
                    class="flex truncate text-center bg-gray-100 rounded-md px-2 py-1 text-gray-900 text-sm">
                    <span th:text="${#numbers.formatDecimal(store.getAverageRating(), 1, 1).replace(',', '.')}"></span>
                    <i class="bi bi-star-fill text-yellow-500 ml-1"></i>
                </div>
            </div>

            <!-- Address & Categories -->
            <div class="flex justify-between mb-2 font-semibold text-gray-700">
                <div class="flex items-center text-sm space-x-2 w-40 truncate">
                    <i
                        class="bi bi-geo-alt text-gray-700 font-semibold rounded-md px-2 py-1 text-lg text-red-500"></i>
                    <span th:text="${store.addressCity}" class="truncate max-w-[calc(100%-2rem)]">Address</span>
                </div>
                <div class="flex justify-between text-sm px-1 py-2 text-gray-700 w-28 truncate">
                    <span th:text="${store.storeCategories.categoriesName}" class="text-right w-full">Category</span>
                </div>
            </div>

            <!-- Image -->
            <img class="rounded-lg w-full h-48 object-cover mt-2 shadow-md"
                th:src="${#lists.isEmpty(store.photos) ? 'https://via.placeholder.com/400x300.png?text=No+Image' : store.photos[0].photoUrl}"
                th:if="${store.photos[0].photoType == 'store'}" alt="Store Image">

        </div>
    </a>
</div>
<!-- End of Store Card -->